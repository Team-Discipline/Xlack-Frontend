url validator


urls.py
```Python
from rest_framework.routers import DefaultRouter  
from urlvalidation.models import ValidationCheck  
  
router = DefaultRouter()  
  
router.register('validation checker', ValidationCheck)  
  
urlpatterns = router.urls
```

models.py
```Python
from django.db import models  
from django.core.validators import URLValidator  
from django.core.exceptions import ValidationError  
  
  
class ValidationCheck:  
  
    def valid_url(to_validate: str) -> bool:  
        validator = URLValidator()  
        # urls3에서 받은 url을 to_validate로 받으면 됩니다.  
        if to_validate.startswith("http"):  
            print(f'url {to_validate} start with no security.')  
            # 받은 url이 https 프로토콜이 아니라면 경고를 보내줍니다.  
        try:  
            validator(to_validate)  
            # url is valid here  
            # url is valid 인 상태이므로 다음으로 넘겨주면 됩니다. 다음이란건 urls3 생성  
            return True  
        except ValidationError as exception:  
            # URL is NOT valid here.  
            # exception or error code 를 넣으면 됩니다.  
            print(exception)  
            return False
```

forms.py
```Python
from django import forms  
from .models import ValidationCheck  
  
  
class PostForm(forms.ModelForm):  
    class Meta:  
        model = ValidationCheck  
        fields = '__all__'
```

views.py
```Python
from django.core.validators import URLValidator  
from django.core.exceptions import ValidationError  
  
  
# Create your views here.  
class URLValidationViewSet:  
    http_method_names = ['post', 'get', 'delete']  
  
    def __init__(self):  
        self.POST = None  
  
    def url_validator(self):  
        if self.http_method_names == 'post':  
            valid_url = self.POST["textfield"]  
            validator = URLValidator()  
            # urls3에서 받은 url을 to_validate로 받으면 됩니다.  
            if valid_url.startswith("http"):  
                print(f'url {valid_url} start with any secure protocols.')  
                # 받은 url이 https 프로토콜이 아니라면 경고를 보내줍니다.  
            try:  
                validator(valid_url)  
                # url is valid here  
                # url is valid 인 상태이므로 다음으로 넘겨주면 됩니다. 다음이란건 urls3 생성  
                return True  
            except ValidationError as exception:  
                # URL is NOT valid here.  
                # exception or error code 를 넣으면 됩니다.  
                print(exception)  
                print(f'This url: {valid_url} is not valid. Try another')  
                return False
```

urlvalidator.py
```Python
from django.core.validators import URLValidator    
from django.core.exceptions import ValidationError    
from urllib.parse import urlparse    
from django.db import models    
  
  
def url_validator(input_url: str):    
    validator = URLValidator(verify_exists=True)    
url = models.URLField(verify_exists=True)    
split_url = urlparse(input_url)    
schemes_list = ['http', 'file', 'ftp', 'gopher', 'hdl', 'http', 'https', 'imap', 'mailto', 'mms', 'news', 'nntp',    
                    'prospero', 'rsync',    
                    'rtsp', 'rtspu', 'sftp', 'shttp', 'sip', 'sips', 'snews', 'svn', 'svn+ssh', 'telnet', 'wais', 'ws',    
                    'wss']    
# urls3에서 받은 url을 input_url로 받으면 됩니다.    
for i in range(len(schemes_list)):    
        if split_url.scheme in schemes_list[i] is False:    
            print(f'url {input_url} start with any protocols.')    
    if (split_url.scheme == 'https') is False:    
        print(f'This {split_url.scheme} has no secure. Are you sure to get S3?')    
# 받은 url이 https 프로토콜이 아니라면 경고를 보내줍니다.    
try:    
        validator(input_url)    
# url is valid here    
# url is valid 인 상태이므로 다음으로 넘겨주면 됩니다. (다음이란건 urls3 생성)    
return True    
except ValidationError as exception:    
        # URL is NOT valid here.    
# exception or error code 를 넣으면 됩니다.    
print(exception)    
print(f'This url: {input_url} is not valid. Try another')    
return False
```

```python
# view.py
from rest_framework import viewsets  
from urlvalidator.serializers import URLSerializer  
from django.core.validators import URLValidator  
from django.core.exceptions import ValidationError  
from urlvalidator.models import models  
  
  
# docs/url/s3 get  
class ValidateUrl(viewsets.ModelViewSet):  
  
    def is_valid_url(self, input_url) -> bool:  
        # serializer = URLSerializer(data=input_url.data)  
        validator = URLValidator(verify_exists=True)  
        url = models.URLField(verify_exists=True)  
  
        try:  
            if input_url.startswith("http" or "ftps"):  
                print(f'url {input_url} start with no secure protocols.')  
            validator(input_url)  
            # 받은 URL이 secure이 포함된 프로토콜이 아니라면 경고를 보내줍니다.  
            # url is valid here            # url is valid 인 상태이므로 다음으로 넘겨주면 됩니다  
            # serializer.save()  
            return True  
  
        except ValidationError:  
            print(ValidationError)  
            print(f'This url: {input_url} is not valid. Try another')  
            return False
```